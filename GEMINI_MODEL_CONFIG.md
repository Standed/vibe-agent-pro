# Gemini æ¨¡å‹é…ç½®è¯´æ˜

## ğŸ“‹ æ¨¡å‹é…ç½®æ¦‚è§ˆ

### å½“å‰æ¨¡å‹é…ç½®ï¼ˆ2025-12-18æ›´æ–°ï¼‰

| åŠŸèƒ½æ¨¡å— | ä½¿ç”¨æ¨¡å‹ | Temperature | è¯´æ˜ |
|---------|---------|-------------|------|
| **AIè‡ªåŠ¨åˆ†é•œï¼ˆ5æ­¥æµç¨‹ï¼‰** | `gemini-3-flash-preview` | 1.0 | å¿«é€Ÿã€ç»æµã€åˆ›é€ åŠ›å¼º âœ¨ |
| **Agentæ¨ç†æ¨¡å¼** | `gemini-3-flash-preview` | 0.3 | å¿«é€Ÿå“åº”ã€ç²¾ç¡®æ¨ç† ğŸ¯ |
| **Geminiç›´å‡ºå›¾ç‰‡** | `gemini-3-pro-image-preview` | 1.0 | é«˜è´¨é‡å›¾ç‰‡ç”Ÿæˆ ğŸ¨ |
| **Gemini Gridå¤šè§†å›¾** | `gemini-3-pro-image-preview` | 1.0 | é«˜è´¨é‡å¤šè§†å›¾ç”Ÿæˆ ğŸ¨ |
| **Geminiå›¾ç‰‡ç¼–è¾‘** | `gemini-3-pro-image-preview` | 1.0 | é«˜è´¨é‡å›¾ç‰‡ç¼–è¾‘ âœï¸ |
| **Geminiå›¾ç‰‡åˆ†æ** | `gemini-3-flash-preview` | - | å¿«é€Ÿåˆ†æ ğŸ‘ï¸ |

---

## ğŸ”§ é…ç½®è¯¦æƒ…

### 1. AIè‡ªåŠ¨åˆ†é•œï¼ˆstoryboardService.tsï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- ç”¨æˆ·è¾“å…¥å‰§æœ¬ â†’ AIè‡ªåŠ¨åˆ†é•œï¼ˆ5æ­¥æµç¨‹ï¼‰
- è§’è‰²è®¾è®¡æå–
- åœºæ™¯åˆ†æ

**æ¨¡å‹é…ç½®**ï¼š
```typescript
const MODEL_FULL = 'gemini-3-flash-preview';
```

**ä¸ºä»€ä¹ˆä½¿ç”¨ Flash**ï¼š
- âœ… å“åº”é€Ÿåº¦å¿«ï¼ˆé€‚åˆ5æ­¥æµç¨‹ï¼‰
- âœ… æˆæœ¬æ›´ä½ï¼ˆåˆ†é•œæ­¥éª¤å¤šï¼‰
- âœ… temperature=1.0 æä¾›è¶³å¤Ÿåˆ›é€ åŠ›

---

### 2. Agentæ¨ç†æ¨¡å¼ï¼ˆagentService.tsï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- Agentå¯¹è¯æ¨¡å¼
- å·¥å…·è°ƒç”¨ï¼ˆFunction Callingï¼‰
- å¤šè½®å¯¹è¯æ¨ç†

**æ¨¡å‹é…ç½®**ï¼š
```typescript
const GEMINI_MODEL = 'gemini-3-flash-preview';
generationConfig: {
  temperature: 0.3, // Agentæ¨ç†éœ€è¦ç²¾ç¡®æ€§ï¼Œä½¿ç”¨è¾ƒä½çš„temperature
  maxOutputTokens: MAX_OUTPUT_TOKENS,
}
```

**ä¸ºä»€ä¹ˆä½¿ç”¨ Flash + ä½temperature**ï¼š
- âœ… æ¨ç†é€Ÿåº¦å¿«ï¼ˆç”¨æˆ·ä½“éªŒå¥½ï¼‰
- âœ… æ”¯æŒFunction Calling
- âœ… æˆæœ¬ä½ï¼ˆAgentå¯èƒ½å¤šæ¬¡è°ƒç”¨ï¼‰
- ğŸ¯ **temperature=0.3**ï¼šAgentæ¨ç†éœ€è¦ç²¾ç¡®çš„å·¥å…·è°ƒç”¨å’Œé€»è¾‘æ¨ç†ï¼Œä¸éœ€è¦è¿‡å¤šåˆ›é€ åŠ›

---

### 3. Geminiå›¾ç‰‡ç”Ÿæˆï¼ˆgemini-image, gemini-grid, gemini-editï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- Geminiç›´å‡ºå•å¼ å›¾ç‰‡
- Gemini Gridå¤šè§†å›¾ï¼ˆ2x2, 3x3ï¼‰
- å›¾ç‰‡ç¼–è¾‘

**æ¨¡å‹é…ç½®**ï¼š
```typescript
const GEMINI_IMAGE_MODEL = 'gemini-3-pro-image-preview';
generationConfig: {
  temperature: 1.0,
  imageConfig: {
    aspectRatio: '16:9',
    imageSize: '4K', // Gridä½¿ç”¨4Kï¼Œå•å›¾ä½¿ç”¨2K
  }
}
```

**ä¸ºä»€ä¹ˆä½¿ç”¨ Pro Image**ï¼š
- âœ… å›¾ç‰‡è´¨é‡æœ€é«˜
- âœ… æ”¯æŒå¤šè§†å›¾Gridç”Ÿæˆ
- âœ… ä¸“ä¸ºå›¾ç‰‡ç”Ÿæˆä¼˜åŒ–

---

### 4. Geminiæ–‡æœ¬ç”Ÿæˆï¼ˆgemini-textï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- é€šç”¨æ–‡æœ¬ç”Ÿæˆ
- æç¤ºè¯ä¼˜åŒ–
- å†…å®¹åˆ†æ

**æ¨¡å‹é…ç½®**ï¼š
```typescript
const GEMINI_TEXT_MODEL = 'gemini-3-flash-preview';
temperature: 1.0
```

---

## ğŸ¯ Temperature é…ç½®ç­–ç•¥

**ä¸åŒåœºæ™¯ä½¿ç”¨ä¸åŒçš„ temperature**ï¼š

### Temperature = 1.0ï¼ˆé«˜åˆ›é€ åŠ›ï¼‰
**é€‚ç”¨åœºæ™¯**ï¼š
- âœ¨ **AIè‡ªåŠ¨åˆ†é•œ**ï¼šéœ€è¦ä¸°å¯Œçš„åˆ›æ„å’Œå¤šæ ·åŒ–çš„åˆ†é•œè®¾è®¡
- ğŸ¨ **å›¾ç‰‡ç”Ÿæˆ**ï¼šéœ€è¦åˆ›é€ æ€§çš„è§†è§‰æ„å›¾å’Œè‰ºæœ¯è¡¨ç°
- ğŸ“ **æ–‡æœ¬åˆ›ä½œ**ï¼šéœ€è¦åˆ›æ„å†…å®¹ç”Ÿæˆ

**ä¸ºä»€ä¹ˆ**ï¼š
- å†…å®¹åˆ›ä½œéœ€è¦æœ€å¤§åŒ–åˆ›é€ åŠ›
- ç”¨æˆ·æœŸæœ›AIæä¾›åˆ›æ„å†…å®¹ï¼Œè€Œéä¿å®ˆè¾“å‡º
- è§†è§‰è‰ºæœ¯éœ€è¦å¤šæ ·åŒ–çš„è¡¨ç°å½¢å¼

### Temperature = 0.3ï¼ˆç²¾ç¡®æ¨ç†ï¼‰
**é€‚ç”¨åœºæ™¯**ï¼š
- ğŸ¯ **Agentæ¨ç†**ï¼šéœ€è¦ç²¾ç¡®çš„å·¥å…·è°ƒç”¨å’Œé€»è¾‘æ¨ç†
- ğŸ” **ä»£ç ç”Ÿæˆ**ï¼šéœ€è¦å‡†ç¡®çš„è¯­æ³•å’Œç»“æ„
- ğŸ“Š **æ•°æ®åˆ†æ**ï¼šéœ€è¦ç²¾ç¡®çš„ç»“æœ

**ä¸ºä»€ä¹ˆ**ï¼š
- Agentæ¨ç†éœ€è¦ç²¾ç¡®æ‰§è¡Œå·¥å…·è°ƒç”¨
- Function Callingéœ€è¦ç¨³å®šçš„è¾“å‡ºæ ¼å¼
- é€»è¾‘æ¨ç†ä¸éœ€è¦è¿‡å¤šéšæœºæ€§

---

## ğŸ’° æˆæœ¬å¯¹æ¯”

| æ¨¡å‹ | ç›¸å¯¹æˆæœ¬ | é€Ÿåº¦ | é€‚ç”¨åœºæ™¯ |
|------|---------|------|---------|
| `gemini-3-flash-preview` | ğŸ’° ä½ | âš¡ å¿« | æ–‡æœ¬ã€æ¨ç†ã€åˆ†æ |
| `gemini-3-pro-preview` | ğŸ’°ğŸ’° ä¸­ | âš¡ ä¸­ | å¤æ‚æ¨ç† |
| `gemini-3-pro-image-preview` | ğŸ’°ğŸ’°ğŸ’° é«˜ | âš¡ æ…¢ | å›¾ç‰‡ç”Ÿæˆã€ç¼–è¾‘ |

**æˆæœ¬ä¼˜åŒ–**ï¼š
- å°†æ–‡æœ¬/æ¨ç†ä»»åŠ¡ä» Pro è¿ç§»åˆ° Flash â†’ **èŠ‚çœçº¦50%æˆæœ¬**
- ä¿ç•™å›¾ç‰‡ç”Ÿæˆä½¿ç”¨ Pro Image â†’ **ä¿è¯è´¨é‡**

---

## ğŸ“ é…ç½®æ–‡ä»¶ä½ç½®

### æœåŠ¡å±‚ï¼ˆService Layerï¼‰
```
src/services/
â”œâ”€â”€ storyboardService.ts     # AIè‡ªåŠ¨åˆ†é•œ
â”œâ”€â”€ agentService.ts           # Agentæ¨ç†
â””â”€â”€ geminiService.ts          # å›¾ç‰‡ç”Ÿæˆè¾…åŠ©
```

### APIè·¯ç”±å±‚ï¼ˆAPI Routesï¼‰
```
src/app/api/
â”œâ”€â”€ gemini-text/route.ts      # æ–‡æœ¬ç”Ÿæˆ
â”œâ”€â”€ gemini-generate/route.ts  # é€šç”¨ç”Ÿæˆ
â”œâ”€â”€ gemini-analyze/route.ts   # å›¾ç‰‡åˆ†æ
â”œâ”€â”€ gemini-image/route.ts     # å•å›¾ç”Ÿæˆ
â”œâ”€â”€ gemini-grid/route.ts      # Gridå¤šè§†å›¾
â””â”€â”€ gemini-edit/route.ts      # å›¾ç‰‡ç¼–è¾‘
```

---

## ğŸ”„ ç¯å¢ƒå˜é‡é…ç½®

å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–é»˜è®¤æ¨¡å‹ï¼š

```env
# æ–‡æœ¬/æ¨ç†æ¨¡å‹ï¼ˆé»˜è®¤ï¼šgemini-3-flash-previewï¼‰
GEMINI_TEXT_MODEL=gemini-3-flash-preview

# å›¾ç‰‡ç”Ÿæˆæ¨¡å‹ï¼ˆé»˜è®¤ï¼šgemini-3-pro-image-previewï¼‰
GEMINI_IMAGE_MODEL=gemini-3-pro-image-preview
```

---

## âœ… éªŒè¯æ¸…å•

éƒ¨ç½²åéªŒè¯ä»¥ä¸‹åŠŸèƒ½ï¼š

- [ ] AIè‡ªåŠ¨åˆ†é•œæ­£å¸¸å·¥ä½œï¼ˆä½¿ç”¨Flashæ¨¡å‹ï¼‰
- [ ] Agentå¯¹è¯å“åº”å¿«é€Ÿï¼ˆä½¿ç”¨Flashæ¨¡å‹ï¼‰
- [ ] Geminiç›´å‡ºå›¾ç‰‡è´¨é‡é«˜ï¼ˆä½¿ç”¨Pro Imageæ¨¡å‹ï¼‰
- [ ] Gemini Gridç”Ÿæˆæ­£å¸¸ï¼ˆä½¿ç”¨Pro Imageæ¨¡å‹ï¼‰
- [ ] æ‰€æœ‰åŠŸèƒ½çš„åˆ›é€ åŠ›å……è¶³ï¼ˆtemperature=1.0ï¼‰

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨Flashæ¨¡å‹ï¼Ÿ
**A**: å›¾ç‰‡ç”Ÿæˆéœ€è¦Pro Imageæ¨¡å‹æ‰èƒ½ä¿è¯è´¨é‡ã€‚Flashæ¨¡å‹ä¸æ”¯æŒå›¾ç‰‡ç”Ÿæˆã€‚

### Q: Temperature=1.0ä¼šå¯¼è‡´è¾“å‡ºä¸ç¨³å®šå—ï¼Ÿ
**A**:
- å¯¹äºæ–‡æœ¬ç”Ÿæˆï¼Œ1.0æä¾›æœ€å¤§åˆ›é€ åŠ›ï¼Œé€‚åˆå†…å®¹åˆ›ä½œ
- å¯¹äºå›¾ç‰‡ç”Ÿæˆï¼Œ1.0æä¾›æ›´ä¸°å¯Œçš„è§†è§‰åˆ›æ„
- å¦‚æœéœ€è¦æ›´ç¨³å®šçš„è¾“å‡ºï¼Œå¯ä»¥åœ¨APIè°ƒç”¨æ—¶è¦†ç›–temperatureå‚æ•°

### Q: å¦‚ä½•è°ƒæ•´æ¨¡å‹é…ç½®ï¼Ÿ
**A**:
1. æœåŠ¡å±‚ä¿®æ”¹ï¼šç¼–è¾‘å¯¹åº”çš„ service.ts æ–‡ä»¶
2. APIå±‚ä¿®æ”¹ï¼šç¼–è¾‘å¯¹åº”çš„ route.ts æ–‡ä»¶
3. ç¯å¢ƒå˜é‡ï¼šåœ¨ .env.local ä¸­è®¾ç½® GEMINI_TEXT_MODEL æˆ– GEMINI_IMAGE_MODEL

---

**æ›´æ–°æ—¶é—´**: 2025-12-18
**ç‰ˆæœ¬**: v1.0
**ç»´æŠ¤è€…**: Claude Code + è¥¿ç¾ŠçŸ³å›¢é˜Ÿ
